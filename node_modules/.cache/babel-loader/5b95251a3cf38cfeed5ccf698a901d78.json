{"ast":null,"code":"import axios from \"axios\";\nexport const moviesApi = axios.create({\n  baseURL: \"https://api.themoviedb.org/3\",\n  params: {\n    api_key: process.env.REACT_APP_TMDB_KEY\n  }\n});\nexport const fetchToken = async () => {\n  try {\n    const {\n      data\n    } = await moviesApi.get(\"/authentication/token/new\");\n    const token = data.request_token;\n\n    if (data.success) {\n      localStorage.setItem(\"request_token\", token);\n      window.location.href = `https://www.themoviedb.org/authenticate/${token}?redirect_to=${window.location.origin}/approved`;\n    }\n  } catch (error) {\n    console.log(\"Sorry, your token could not be created\");\n  }\n};\nexport const createSessionId = async () => {\n  const token = localStorage.getItem(\"request_token\");\n\n  if (token) {\n    try {\n      const {\n        data: {\n          session_id\n        }\n      } = await moviesApi.post(\"authentication/session/new\", {\n        request_token: token\n      });\n      localStorage.setItem(\"session_id\", session_id);\n      return session_id;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};","map":{"version":3,"sources":["C:/Users/HP/OneDrive/Desktop/project-filmpire/src/utils/index.js"],"names":["axios","moviesApi","create","baseURL","params","api_key","process","env","REACT_APP_TMDB_KEY","fetchToken","data","get","token","request_token","success","localStorage","setItem","window","location","href","origin","error","console","log","createSessionId","getItem","session_id","post"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,SAAS,GAAGD,KAAK,CAACE,MAAN,CAAa;AACpCC,EAAAA,OAAO,EAAE,8BAD2B;AAEpCC,EAAAA,MAAM,EAAE;AACNC,IAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC;AADf;AAF4B,CAAb,CAAlB;AAOP,OAAO,MAAMC,UAAU,GAAG,YAAY;AACpC,MAAI;AACF,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMT,SAAS,CAACU,GAAV,CAAc,2BAAd,CAAvB;AAEA,UAAMC,KAAK,GAAGF,IAAI,CAACG,aAAnB;;AAEA,QAAIH,IAAI,CAACI,OAAT,EAAkB;AAChBC,MAAAA,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAsCJ,KAAtC;AAEAK,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAwB,2CAA0CP,KAAM,gBAAeK,MAAM,CAACC,QAAP,CAAgBE,MAAO,WAA9G;AACD;AACF,GAVD,CAUE,OAAOC,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAY,wCAAZ;AACD;AACF,CAdM;AAgBP,OAAO,MAAMC,eAAe,GAAG,YAAY;AACzC,QAAMZ,KAAK,GAAGG,YAAY,CAACU,OAAb,CAAqB,eAArB,CAAd;;AAEA,MAAIb,KAAJ,EAAW;AACT,QAAI;AACF,YAAM;AACJF,QAAAA,IAAI,EAAE;AAAEgB,UAAAA;AAAF;AADF,UAEF,MAAMzB,SAAS,CAAC0B,IAAV,CAAe,4BAAf,EAA6C;AACrDd,QAAAA,aAAa,EAAED;AADsC,OAA7C,CAFV;AAKAG,MAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCU,UAAnC;AAEA,aAAOA,UAAP;AACD,KATD,CASE,OAAOL,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF;AACF,CAjBM","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const moviesApi = axios.create({\r\n  baseURL: \"https://api.themoviedb.org/3\",\r\n  params: {\r\n    api_key: process.env.REACT_APP_TMDB_KEY,\r\n  },\r\n});\r\n\r\nexport const fetchToken = async () => {\r\n  try {\r\n    const { data } = await moviesApi.get(\"/authentication/token/new\");\r\n\r\n    const token = data.request_token;\r\n\r\n    if (data.success) {\r\n      localStorage.setItem(\"request_token\", token);\r\n\r\n      window.location.href = `https://www.themoviedb.org/authenticate/${token}?redirect_to=${window.location.origin}/approved`;\r\n    }\r\n  } catch (error) {\r\n    console.log(\"Sorry, your token could not be created\");\r\n  }\r\n};\r\n\r\nexport const createSessionId = async () => {\r\n  const token = localStorage.getItem(\"request_token\");\r\n\r\n  if (token) {\r\n    try {\r\n      const {\r\n        data: { session_id },\r\n      } = await moviesApi.post(\"authentication/session/new\", {\r\n        request_token: token,\r\n      });\r\n      localStorage.setItem(\"session_id\", session_id);\r\n\r\n      return session_id;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}