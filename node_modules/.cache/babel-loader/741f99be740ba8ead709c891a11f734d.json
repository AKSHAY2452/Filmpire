{"ast":null,"code":"import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\nconst tmdbApiKey = process.env.REACT_APP_TMDB_KEY; //https://api.themoviedb.org/3/movie/popular?api_key=<<api_key>>&language=en-US&page=1\n\nexport const tmdbApi = createApi({\n  reducerPath: \"tmdbApi\",\n  baseQuery: fetchBaseQuery({\n    baseUrl: \"https://api.themoviedb.org/3\"\n  }),\n  endpoints: builder => ({\n    //Get Genres\n    getGenres: builder.query({\n      query: () => `/genre/movie/list?api_key=${tmdbApiKey}`\n    }),\n    //get Movies by type\n    getMovies: builder.query({\n      query: ({\n        genreIdOrCategoryName,\n        page,\n        searchQuery\n      }) => {\n        //get movies by search\n        if (searchQuery) {\n          return \"/search/movie?query=${searchQuery}&page=${page}$api_key=${tmdbApiKey}\";\n        } //get movies by category as category return string\n\n\n        if (genreIdOrCategoryName && typeof genreIdOrCategoryName === \"string\") {\n          return `movie/${genreIdOrCategoryName}?page=${page}&api_key=${tmdbApiKey}`;\n        } //get movie by genre as genre is a number\n\n\n        if (genreIdOrCategoryName && typeof genreIdOrCategoryName === \"number\") {\n          return `discover/movie?with_genres=${genreIdOrCategoryName}&page=${page}&api_key=${tmdbApiKey}`;\n        } //get popular movies\n\n\n        return `movie/popular?page=${page}&api_key=${tmdbApiKey}`;\n      }\n    })\n  })\n});\nexport const {\n  useGetMoviesQuery,\n  useGetGenresQuery\n} = tmdbApi;","map":{"version":3,"sources":["C:/Users/HP/Downloads/filmpire-l2-forked/src/services/TMDB.js"],"names":["createApi","fetchBaseQuery","tmdbApiKey","process","env","REACT_APP_TMDB_KEY","tmdbApi","reducerPath","baseQuery","baseUrl","endpoints","builder","getGenres","query","getMovies","genreIdOrCategoryName","page","searchQuery","useGetMoviesQuery","useGetGenresQuery"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,cAApB,QAA0C,8BAA1C;AAEA,MAAMC,UAAU,GAAGC,OAAO,CAACC,GAAR,CAAYC,kBAA/B,C,CACA;;AAEA,OAAO,MAAMC,OAAO,GAAGN,SAAS,CAAC;AAC/BO,EAAAA,WAAW,EAAE,SADkB;AAE/BC,EAAAA,SAAS,EAAEP,cAAc,CAAC;AAAEQ,IAAAA,OAAO,EAAE;AAAX,GAAD,CAFM;AAG/BC,EAAAA,SAAS,EAAGC,OAAD,KAAc;AACvB;AACAC,IAAAA,SAAS,EAAED,OAAO,CAACE,KAAR,CAAc;AACvBA,MAAAA,KAAK,EAAE,MAAO,6BAA4BX,UAAW;AAD9B,KAAd,CAFY;AAMvB;AACAY,IAAAA,SAAS,EAAEH,OAAO,CAACE,KAAR,CAAc;AACvBA,MAAAA,KAAK,EAAE,CAAC;AAAEE,QAAAA,qBAAF;AAAyBC,QAAAA,IAAzB;AAA+BC,QAAAA;AAA/B,OAAD,KAAkD;AACvD;AACA,YAAIA,WAAJ,EAAiB;AACf,iBAAO,uEAAP;AACD,SAJsD,CAMvD;;;AACA,YAAIF,qBAAqB,IAAI,OAAOA,qBAAP,KAAiC,QAA9D,EAAwE;AACtE,iBAAQ,SAAQA,qBAAsB,SAAQC,IAAK,YAAWd,UAAW,EAAzE;AACD,SATsD,CAUvD;;;AACA,YAAIa,qBAAqB,IAAI,OAAOA,qBAAP,KAAiC,QAA9D,EAAwE;AACtE,iBAAQ,8BAA6BA,qBAAsB,SAAQC,IAAK,YAAWd,UAAW,EAA9F;AACD,SAbsD,CAevD;;;AACA,eAAQ,sBAAqBc,IAAK,YAAWd,UAAW,EAAxD;AACD;AAlBsB,KAAd;AAPY,GAAd;AAHoB,CAAD,CAAzB;AAiCP,OAAO,MAAM;AAAEgB,EAAAA,iBAAF;AAAqBC,EAAAA;AAArB,IAA2Cb,OAAjD","sourcesContent":["import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\r\n\r\nconst tmdbApiKey = process.env.REACT_APP_TMDB_KEY;\r\n//https://api.themoviedb.org/3/movie/popular?api_key=<<api_key>>&language=en-US&page=1\r\n\r\nexport const tmdbApi = createApi({\r\n  reducerPath: \"tmdbApi\",\r\n  baseQuery: fetchBaseQuery({ baseUrl: \"https://api.themoviedb.org/3\" }),\r\n  endpoints: (builder) => ({\r\n    //Get Genres\r\n    getGenres: builder.query({\r\n      query: () => `/genre/movie/list?api_key=${tmdbApiKey}`,\r\n    }),\r\n\r\n    //get Movies by type\r\n    getMovies: builder.query({\r\n      query: ({ genreIdOrCategoryName, page, searchQuery }) => {\r\n        //get movies by search\r\n        if (searchQuery) {\r\n          return \"/search/movie?query=${searchQuery}&page=${page}$api_key=${tmdbApiKey}\";\r\n        }\r\n\r\n        //get movies by category as category return string\r\n        if (genreIdOrCategoryName && typeof genreIdOrCategoryName === \"string\") {\r\n          return `movie/${genreIdOrCategoryName}?page=${page}&api_key=${tmdbApiKey}`;\r\n        }\r\n        //get movie by genre as genre is a number\r\n        if (genreIdOrCategoryName && typeof genreIdOrCategoryName === \"number\") {\r\n          return `discover/movie?with_genres=${genreIdOrCategoryName}&page=${page}&api_key=${tmdbApiKey}`;\r\n        }\r\n\r\n        //get popular movies\r\n        return `movie/popular?page=${page}&api_key=${tmdbApiKey}`;\r\n      },\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const { useGetMoviesQuery, useGetGenresQuery } = tmdbApi;\r\n"]},"metadata":{},"sourceType":"module"}