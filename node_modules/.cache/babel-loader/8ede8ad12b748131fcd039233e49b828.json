{"ast":null,"code":"import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\nconst tmdbApiKey = process.env.REACT_APP_TMDB_KEY;\nconst page = 1; //https://api.themoviedb.org/3/movie/popular?api_key=<<api_key>>&language=en-US&page=1\n\nexport const tmdbApi = createApi({\n  reducerPath: \"tmdbApi\",\n  baseQuery: fetchBaseQuery({\n    baseUrl: \"https://api.themoviedb.org/3\"\n  }),\n  endpoints: builder => ({\n    //Get Genres\n    getGenres: builder.query({\n      query: () => `/genre/movie/list?api_key=${tmdbApiKey}`\n    }),\n    //get Movies by type\n    getMovies: builder.query({\n      query: ({\n        genreIdOrCategoryName,\n        page\n      }) => {\n        //get movies by category as category return string\n        if (genreIdOrCategoryName && typeof genreIdOrCategoryName === \"string\") {\n          return `movie/${genreIdOrCategoryName}?page=${page}&api_key=${tmdbApiKey}`;\n        } //get movie by genre as genre is a number\n\n\n        if (genreIdOrCategoryName && typeof genreIdOrCategoryName === \"number\") {\n          return `discover/movie?with_genres=${genreIdOrCategoryName}&page=${page}&api_key=${tmdbApiKey}`;\n        } //get popular movies\n\n\n        return `movie/popular?page=${page}&api_key=${tmdbApiKey}`;\n      }\n    })\n  })\n});\nexport const {\n  useGetMoviesQuery,\n  useGetGenresQuery\n} = tmdbApi;","map":{"version":3,"sources":["C:/Users/HP/Downloads/filmpire-l2-forked/src/services/TMDB.js"],"names":["createApi","fetchBaseQuery","tmdbApiKey","process","env","REACT_APP_TMDB_KEY","page","tmdbApi","reducerPath","baseQuery","baseUrl","endpoints","builder","getGenres","query","getMovies","genreIdOrCategoryName","useGetMoviesQuery","useGetGenresQuery"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,cAApB,QAA0C,8BAA1C;AAEA,MAAMC,UAAU,GAAGC,OAAO,CAACC,GAAR,CAAYC,kBAA/B;AACA,MAAMC,IAAI,GAAG,CAAb,C,CACA;;AAEA,OAAO,MAAMC,OAAO,GAAGP,SAAS,CAAC;AAC/BQ,EAAAA,WAAW,EAAE,SADkB;AAE/BC,EAAAA,SAAS,EAAER,cAAc,CAAC;AAAES,IAAAA,OAAO,EAAE;AAAX,GAAD,CAFM;AAG/BC,EAAAA,SAAS,EAAGC,OAAD,KAAc;AACvB;AACAC,IAAAA,SAAS,EAAED,OAAO,CAACE,KAAR,CAAc;AACvBA,MAAAA,KAAK,EAAE,MAAO,6BAA4BZ,UAAW;AAD9B,KAAd,CAFY;AAMvB;AACAa,IAAAA,SAAS,EAAEH,OAAO,CAACE,KAAR,CAAc;AACvBA,MAAAA,KAAK,EAAE,CAAC;AAAEE,QAAAA,qBAAF;AAAyBV,QAAAA;AAAzB,OAAD,KAAqC;AAC1C;AACA,YAAIU,qBAAqB,IAAI,OAAOA,qBAAP,KAAiC,QAA9D,EAAwE;AACtE,iBAAQ,SAAQA,qBAAsB,SAAQV,IAAK,YAAWJ,UAAW,EAAzE;AACD,SAJyC,CAK1C;;;AACA,YAAIc,qBAAqB,IAAI,OAAOA,qBAAP,KAAiC,QAA9D,EAAwE;AACtE,iBAAQ,8BAA6BA,qBAAsB,SAAQV,IAAK,YAAWJ,UAAW,EAA9F;AACD,SARyC,CAU1C;;;AACA,eAAQ,sBAAqBI,IAAK,YAAWJ,UAAW,EAAxD;AACD;AAbsB,KAAd;AAPY,GAAd;AAHoB,CAAD,CAAzB;AA4BP,OAAO,MAAM;AAAEe,EAAAA,iBAAF;AAAqBC,EAAAA;AAArB,IAA2CX,OAAjD","sourcesContent":["import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\r\n\r\nconst tmdbApiKey = process.env.REACT_APP_TMDB_KEY;\r\nconst page = 1;\r\n//https://api.themoviedb.org/3/movie/popular?api_key=<<api_key>>&language=en-US&page=1\r\n\r\nexport const tmdbApi = createApi({\r\n  reducerPath: \"tmdbApi\",\r\n  baseQuery: fetchBaseQuery({ baseUrl: \"https://api.themoviedb.org/3\" }),\r\n  endpoints: (builder) => ({\r\n    //Get Genres\r\n    getGenres: builder.query({\r\n      query: () => `/genre/movie/list?api_key=${tmdbApiKey}`,\r\n    }),\r\n\r\n    //get Movies by type\r\n    getMovies: builder.query({\r\n      query: ({ genreIdOrCategoryName, page }) => {\r\n        //get movies by category as category return string\r\n        if (genreIdOrCategoryName && typeof genreIdOrCategoryName === \"string\") {\r\n          return `movie/${genreIdOrCategoryName}?page=${page}&api_key=${tmdbApiKey}`;\r\n        }\r\n        //get movie by genre as genre is a number\r\n        if (genreIdOrCategoryName && typeof genreIdOrCategoryName === \"number\") {\r\n          return `discover/movie?with_genres=${genreIdOrCategoryName}&page=${page}&api_key=${tmdbApiKey}`;\r\n        }\r\n\r\n        //get popular movies\r\n        return `movie/popular?page=${page}&api_key=${tmdbApiKey}`;\r\n      },\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const { useGetMoviesQuery, useGetGenresQuery } = tmdbApi;\r\n"]},"metadata":{},"sourceType":"module"}