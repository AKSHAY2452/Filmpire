{"ast":null,"code":"import axios from \"axios\";\nconst movieApi = axios.create({\n  baseURL: \"https://api.themoviedb.org/3\",\n  params: {\n    api_key: process.env.REACT_APP_TMDB_KEY\n  }\n});\nexport const fetchToken = async () => {\n  try {\n    const {\n      data\n    } = await movieApi.get(\"/authentication/token/new\");\n    const token = data.request_token;\n\n    if (data.success) {\n      localStorage.setItem(\"request_token\", token);\n      window.location.href = `https://www.themoviedb.org/authenticate/${token}?redirect_to=${window.location.origin}/approved`;\n    }\n  } catch (error) {\n    console.log(\"Sorry, your token could not be created\");\n  }\n};","map":{"version":3,"sources":["C:/Users/HP/Downloads/filmpire-l2-forked/src/utils/index.js"],"names":["axios","movieApi","create","baseURL","params","api_key","process","env","REACT_APP_TMDB_KEY","fetchToken","data","get","token","request_token","success","localStorage","setItem","window","location","href","origin","error","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAN,CAAa;AAC5BC,EAAAA,OAAO,EAAE,8BADmB;AAE5BC,EAAAA,MAAM,EAAE;AACNC,IAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC;AADf;AAFoB,CAAb,CAAjB;AAOA,OAAO,MAAMC,UAAU,GAAG,YAAY;AACpC,MAAI;AACF,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMT,QAAQ,CAACU,GAAT,CAAa,2BAAb,CAAvB;AAEA,UAAMC,KAAK,GAAGF,IAAI,CAACG,aAAnB;;AAEA,QAAIH,IAAI,CAACI,OAAT,EAAkB;AAChBC,MAAAA,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAsCJ,KAAtC;AAEAK,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAwB,2CAA0CP,KAAM,gBAAeK,MAAM,CAACC,QAAP,CAAgBE,MAAO,WAA9G;AACD;AACF,GAVD,CAUE,OAAOC,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAY,wCAAZ;AACD;AACF,CAdM","sourcesContent":["import axios from \"axios\";\r\n\r\nconst movieApi = axios.create({\r\n  baseURL: \"https://api.themoviedb.org/3\",\r\n  params: {\r\n    api_key: process.env.REACT_APP_TMDB_KEY,\r\n  },\r\n});\r\n\r\nexport const fetchToken = async () => {\r\n  try {\r\n    const { data } = await movieApi.get(\"/authentication/token/new\");\r\n\r\n    const token = data.request_token;\r\n\r\n    if (data.success) {\r\n      localStorage.setItem(\"request_token\", token);\r\n\r\n      window.location.href = `https://www.themoviedb.org/authenticate/${token}?redirect_to=${window.location.origin}/approved`;\r\n    }\r\n  } catch (error) {\r\n    console.log(\"Sorry, your token could not be created\");\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}